<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environment Check</title>
</head>
<body>
    <h1>Environment Variables Check</h1>
    <p>This page helps diagnose Vercel deployment issues.</p>
    <div id="output"></div>

    <script type="module">
        const output = document.getElementById('output');
        const url = import.meta.env.VITE_SUPABASE_URL || '';
        const key = import.meta.env.VITE_SUPABASE_ANON_KEY || '';

        output.innerHTML = `
            <h2>Environment Variables Status:</h2>
            <p><strong>VITE_SUPABASE_URL:</strong></p>
            <ul>
                <li>Exists: ${!!url ? '✅ Yes' : '❌ No'}</li>
                <li>Length: ${url.length} characters</li>
                <li>Starts with https://: ${url.startsWith('https://') ? '✅ Yes' : '❌ No'}</li>
                <li>Preview: ${url ? url.substring(0, 40) + '...' : 'MISSING'}</li>
            </ul>

            <p><strong>VITE_SUPABASE_ANON_KEY:</strong></p>
            <ul>
                <li>Exists: ${!!key ? '✅ Yes' : '❌ No'}</li>
                <li>Length: ${key.length} characters</li>
                <li>Starts with eyJ: ${key.startsWith('eyJ') ? '✅ Yes' : '❌ No'}</li>
                <li>Preview: ${key ? key.substring(0, 20) + '...' : 'MISSING'}</li>
            </ul>

            <p><strong>Action:</strong></p>
            <p>${!!url && !!key && url.startsWith('https://') && key.startsWith('eyJ')
                ? '✅ Environment variables look correct! The issue might be elsewhere.'
                : '❌ Environment variables are missing or incorrectly formatted. Check Vercel settings.'
            }</p>
        `;
    </script>
</body>
</html>
